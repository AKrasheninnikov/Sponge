function sponge(){sponge.common=function(){return{executeCallback:function(n){n!=null&&typeof n!="undefined"&&n()},isArray:function(n){return toString.call(n)==="[object Array]"},encodeXmlString:function(n){return n=String(n),n=jQuery.trim(n),n=n.replace(/&/g,"&amp;"),n=n.replace(/</g,"&lt;"),n=n.replace(/>/g,"&gt;"),n=n.replace(/'/g,"&apos;"),n.replace(/"/g,"&quot;")},format:function(){for(var t=arguments[0],i,n=0;n<arguments.length-1;n++)i=new RegExp("\\{"+n+"\\}","gm"),t=t.replace(i,arguments[n+1]);return t},bytesToSize:function(n,t){var r=["Bytes","KB","MB","GB","TB"],i=0;if(n==0)return"n/a";if(n<1024)return Number(n)+" "+r[i];while(n>=1024)i++,n=n/1024;return n.toPrecision(t)+" "+r[i]}}}(),sponge.ctx=function(){var n=this;return n.ctx=new SP.ClientContext.get_current,n.web=ctx.get_web(),{current:n.ctx,web:n.web,execute:function(t,i){n.ctx.executeQueryAsync(Function.createDelegate(this,function(){sponge.common.executeCallback(t)}),Function.createDelegate(this,function(n,t){sponge.common.executeCallback(i(n,t))}))},load:function(t,i,r,u){if(typeof t!="undefined")if(sponge.common.isArray(t))for(var f=0;f<t.length;f++)typeof t[f].fields!="undefined"?n.ctx.load(t[f].data,t[f].fields):n.ctx.load(t[f]);else i!==null?n.ctx.load(t,i):n.ctx.load(t);sponge.ctx.execute(r,u)}}}(),sponge.user=function(){return{loadCurrentUser:function(n,t){var i=sponge.ctx.web.get_currentUser();sponge.ctx.load(i,null,function(){sponge.common.executeCallback(n(i))},function(n,i){sponge.common.executeCallback(t(n,i))})}}}(),sponge.lists=function(){return{getCurrentList:function(){var n=SP.ListOperation.Selection.getSelectedList(sponge.ctx);if(n!==null&&n!=="undefined")return sponge.ctx.web.get_lists().getById(n)},getDefaultQuery:function(){var n=new SP.CamlQuery;return n.set_viewXml("<View><Query><Where><Geq><FieldRef Name='ID'/><Value Type='Number'>1<\/Value><\/Geq><\/Where><\/Query><RowLimit>0<\/RowLimit><\/View>"),n},getSelectedItemIds:function(){for(var t=[],r=SP.ListOperation.Selection.getSelectedItems(sponge.ctx),i,n=0;n<r.length;n++)t.push(r[n].id);return i=GetAttributeFromItemTable(itemTable,"ItemId","Id"),i!==null&&t.push(i),t},getSelectedItems:function(){var t=[],i=sponge.lists.getCurrentList(),r=sponge.lists.getSelectedItemIds(),n;if(typeof i=="undefined")return t;for(n=0;n<r.length;n++)t.push({data:i.getItemById(r[n])});return t},loadSelectedItems:function(n,t){var i=sponge.lists.getSelectedItems();sponge.ctx.load(i,null,function(){for(var r=[],t=0;t<i.length;t++)r.push(i[t].data);sponge.common.executeCallback(n(r))},function(n,i){sponge.common.executeCallback(t(n,i))})},loadCurrentList:function(n,t){var i=sponge.lists.getCurrentList();sponge.ctx.load(i,null,function(){sponge.common.executeCallback(n(i))},function(n,i){sponge.common.executeCallback(t(n,i))})},createList:function(n,t){return listInfo=new SP.ListCreationInformation,listInfo.set_title(n),listInfo.set_templateType(t),list=sponge.ctx.web.get_lists().add(listInfo)}}}(),sponge.actions=function(){var n=function(){var t=SP.ListOperation.Selection.getSelectedItems(),i=[],r,n;if(t.length>0)for(r in t)i.push(t[r].id);return n=GetAttributeFromItemTable(itemTable,"ItemId","Id"),n!="undefined"&&n!=null&&i.push(n),i};return{copyListItems:function(){var t,i;if(confirm("Are you sure you want to copy?")){t=n();for(i in t)sponge.actions.copyListItem(t[i])}},copyListItem:function(n){var f=SP.ListOperation.Selection.getSelectedList(),t=SP.ClientContext.get_current(),r=t.get_web().get_lists().getById(f),i=r.getItemById(n),e=i.get_contentType(),u;this.fields=e.get_fields(),t.load(i),t.load(this.fields),u=this.fields,t.executeQueryAsync(Function.createDelegate(this,function(){for(var h=new SP.ListItemCreationInformation,o=r.addItem(h),s=u.getEnumerator(),e,n,f;s.moveNext();)(e=s.get_current(),e.get_readOnlyField())||(n=e.get_internalName(),n=="ContentType"&&(n="ContentTypeId"),f=i.get_item(n),n=="Title"&&(f==null&&(f=""),f+=" (Copy)"),o.set_item(n,f));o.update(),t.executeQueryAsync(Function.createDelegate(this,function(){var n=location.href;0>n.indexOf("?")?n+="?InitialTabId=Ribbon%2EListItem&VisibilityContext=WSSTabPersistence":0>n.indexOf("InitialTabId")&&(n+="&InitialTabId=Ribbon%2EListItem&VisibilityContext=WSSTabPersistence"),SP.Utilities.HttpUtility.navigateTo(n)}),Function.createDelegate(this,function(n,t){alert("Copy List Item failed. "+t.get_message()+"\n"+t.get_stackTrace())}))}),Function.createDelegate(this,function(n,t){alert("Copy List Item failed. "+t.get_message()+"\n"+t.get_stackTrace())}))},multiApproveItems:function(){var u=SP.ListOperation.Selection.getSelectedList(),t=SP.ClientContext.get_current(),f=t.get_web().get_lists().getById(u),i=n(),r;for(r in i)this.item=f.getItemById(i[r]),this.item.set_item("_ModerationStatus",0),this.item.update(),t.load(this.item),t.executeQueryAsync(Function.createDelegate(this,function(){}),Function.createDelegate(this,function(n,t){alert("Multi Approve failed. "+t.get_message()+"\n"+t.get_stackTrace())}));SP.UI.Notify.addNotification("Approved all items.",!1)},isMultieApproveItemsEnabled:function(){return!0}}}(),sponge.logging=function(){return{log:function(n,t,i){var r="",u="";i==null||i=="undefined"?(u="LogCentral",r="{ lvl: '"+n+"', msg: '"+t+"'}"):(u="LogRelative",r="{ spongeUrl: '"+i+"', lvl: '"+n+"', msg: '"+t+"'}"),jQuery.ajax({type:"POST",url:"_layouts/Sponge/LoggingService.asmx/"+u,data:r,contentType:"application/json; charset=utf-8",dataType:"json",success:function(){},error:function(n){alert("ERROR"+JSON.stringify(n))}})}}}(),sponge.config=function(){var n=this;return n.cfg=null,{init:function(t,i,r){var u="",f="";i==null||i=="undefined"?(u="GetCentralJson",f="{ appName: '"+t+"'}"):(u="GetRelativeJson",f="{ appName: '"+t+"', spongeUrl: '"+i+"'}"),jQuery.ajax({type:"POST",url:"_layouts/Sponge/ConfigService.asmx/"+u,data:f,contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){t!="undefined"&&t.d!="undefined"&&(n.cfg=jQuery.parseJSON(t.d)),r&&typeof r!="undefined"&&sponge.common.executeCallback(r)},error:function(n){alert("ERROR"+JSON.stringify(n))}})},get:function(t){var i=jQuery.grep(n.cfg.Items,function(n){return n.Key==t});if(i.length>0)return i[0].Value},name:function(){return n.cfg.Name}}}(),sponge.forms=function(){function n(n,t,i){return self=this,self.data=n,self.name=t,self.type=i,{data:self.data,name:self.name,type:function(){var n=self.data.attr("id");return typeof n=="undefined"?self.type:n.substr(n.lastIndexOf("_")+1,n.length)},row:function(){var n=undefined;switch(this.type()){case"DateTimeFieldDate":n=self.data.closest("tr").parent().parent().parent().parent().parent();break;case"upLevelDiv":n=self.data.closest("tr").parent().parent().parent().parent().parent().parent().parent().parent().parent().parent();break;case"SelectResult":n=self.data.closest("tr").parent().parent().parent().parent().parent();break;case"MultiCheckBox":n=self.data.closest("tr").parent().parent().parent().parent().parent();break;default:n=self.data.closest("tr")}return n},disable:function(){self.data.attr("disabled","disabled")},hide:function(){this.row().hide()},show:function(){this.row().show()},get:function(){var n=undefined,i,r,t;switch(this.type()){case"Lookup":i=$("option:selected",self.data),n={id:i.val(),text:i.text()};break;case"SelectResult":t=[],$("option",self.data).each(function(n,i){i=$(i),t.push({id:i.val(),text:i.text()})}),n=t;break;case"BooleanField":r=self.data.attr("checked"),n=typeof r!="undefined";break;case"DateTimeFieldDate":n=new Date(self.data.val());break;case"upLevelDiv":n=self.data.text();break;case"MultiCheckBox":t=[],$(self.data).each(function(n,i){i=$(i);var r=typeof $("input",i).attr("checked")!="undefined";t.push({checked:r,text:i.text()})}),n=t;break;case"inplacerte":n=self.data.html();break;default:n=self.data.val()}return n},set:function(n){var t,i;switch(this.type()){case"BooleanField":self.data.val(n),self.data.attr("checked",n);break;case"upLevelDiv":self.data.append(n),t=this.row().find("img[Title='Check Names']:first"),t.click();break;case"SelectResult":i=this.row().find("select[title='"+self.name+" possible values'] option:contains('"+n+"')"),i.each(function(n,t){self.data.append(t)});break;case"MultiCheckBox":self.data.each(function(t,i){if(i.title==n){var r=$("input",i),u=typeof $("input",i).attr("checked")!="undefined";r.attr("checked",!u)}});break;case"inplacerte":self.data.html(""),self.data.html(n);break;default:self.data.val(n)}},remove:function(n){var t,r,u,i,f;switch(this.type()){case"SelectResult":t="",typeof n!="undefined"&&(t=":contains('"+n+"')"),r=this.row().find("select[title='"+self.name+" selected values'] option"+t),u=this.row().find("select[title='"+self.name+" possible values']"),r.each(function(n,t){t=$(t),u.append(t.clone()),t.remove()});break;case"upLevelDiv":i=[],$(self.data.text().toLowerCase().split(";")).each(function(t,r){typeof n!="undefined"&&r.trim()!==n.toLowerCase()&&i.push(r.trim())}),self.data.text(i.join(";")),f=this.row().find("img[Title='Check Names']:first"),f.click();break;default:self.data.val(n)}}}}return{fields:function(t){var u=undefined,i=$("input[Title='"+t+"']"),r;if(i.length==0&&(i=$("Select[Title='"+t+"']")),i.length==0&&(i=$("Select[Title='"+t+" selected values'")),i.length==0&&(r=$("nobr").filter(function(){return $(this).contents().eq(0).text()===t}).closest("tr"),i=r.find("div[name='upLevelDiv']")),i.length==0&&(r=$("nobr:contains('"+t+"')").closest("tr"),i=r.find("span .ms-RadioText"),u="MultiCheckBox"),i.length==0&&(r=$("nobr").filter(function(){return $(this).contents().eq(0).text()===t}).closest("tr"),i=r.find("div[role=textbox]")),i.length==0)throw"Field '"+t+"' not found or supported.";return new n(i,t,u)},buttons:function(t){return new n($("input[value='"+t+"']"))}}}(),sponge.locale=function(){var n=this,t,i;return n.dict=null,t=function(n,t){var o,i,r;if(!t)return n;for(var f="",e=/%(\d+)\$s/g,u=e.exec(n);u;)o=parseInt(u[1],10)-1,n=n.replace("%"+u[1]+"$s",t[o]),u=e.exec(n);if(i=n.split("%s"),i.length>1)for(r=0;r<t.length;r++)i[r].length>0&&i[r].lastIndexOf("%")==i[r].length-1&&(i[r]+="s"+i.splice(r+1,1)[0]),f+=i[r]+t[r];return f+i[i.length-1]},i=function(n){n!=null&&typeof n!="undefined"&&n()},{init:function(t,r,u){n.langId=r,n.path=t;var f=t+"/"+n.langId+".js";$.getJSON(f,function(t){n.dict=t,i(u)})},dict:function(){return n.dict},get:function(i,r){var u=i;return n.dict&&n.dict[i]&&(u=n.dict[i]),t(u,r)}}}()}ExecuteOrDelayUntilScriptLoaded(sponge,"sp.js");
//@ sourceMappingURL=sponge.min.js.map